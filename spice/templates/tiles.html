{% extends 'page.html' %}

{% block content %}
  <style>
    .tile-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      grid-gap: 16px;
      width: 85% !important;
      grid-column: 1 / -1;
      margin: 1em auto;
    }

    .tile-grid a {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .tile-2 {
      grid-column-end: span 2;
    }
    .tile-3 {
      grid-column-end: span 3;
    }
    .tile-4 {
      grid-column-end: span 4;
    }
    .tile-5 {
      grid-column-end: span 5;
    }
    .tile-6 {
      grid-column-end: span 6;
    }
    .tile-7 {
      grid-column-end: span 7;
    }
    .tile-8 {
      grid-column-end: span 8;
    }
    hr {
      grid-column-end: span 8;
        width: 100%;
    }
    .tile-grid img {
      max-width: 100%;
      max-height: 400px;
    }
  </style>

  {% include 'pagination.html' %}

  <div class="tile-grid">
    {% for tile in files %}
      {% if tile.file is not none %}
        <a class="tile-{{ tile.span }} {{ 'adjusted' if tile.adjusted else '' }}" href="{{ url_for('files.view', key=tile.file.data.key) }}">
          <img src="{{ tile.file.thumbnail }}">
        </a>
      {% else %}
      {% endif %}
    {% endfor %}
  </div>

  {% include 'pagination.html' %}


  {% autoescape false %}
  <script> var bootstrap = [{{ json|join(',') }}]; </script>
  {% endautoescape %}
{% endblock %}
